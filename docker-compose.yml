version: '3.9'

services:
  todo-sql-server:
    container_name: todo-sql-server
    image: "mcr.microsoft.com/mssql/server:2019-CU14-ubuntu-20.04"
    ports:
    - "1433:1433"
    environment:
      SA_PASSWORD: "yourStrong(!)Password"
      ACCEPT_EULA: "Y"
      
  todo-api:
    container_name: todo-api
    image: todo-api
    build:
      context: .
      dockerfile: TodoApp.Api/Dockerfile
    ports:
      - 5000:5000
    depends_on:
      - todo-sql-server